{% extends "base.html" %}

{% block title %}ProTag - Search Result{% endblock %}

{% block content %}
  <div id="search-result-title" align = "center"> ProTag Search Result</div>

<div class="search-container">
  {% if producers or performers or songs or albums %}

    <!-- Show matching producers' name and link to their page. -->
    {% if producers %}
    <div class="search-sub-container">
      <div class="list-title" align = "center"><a href="/producers">Producers</a></div>

      {% for producer in producers %}
        <div class="list-group">
          <a href="/producers/{{ producer.producer_id }}" class="list-group-item list-group-item-action"><img src="{{ producer.producer_img_url }}" width="50" height="50" alt="{{ producer.producer_name }}">&nbsp;&nbsp;{{ producer.producer_name }}</a>
                  </div>
      {% endfor %}
    {% endif %}
  </div>
    <br>

    <!-- Show matching performers' name and link to their page. -->
    {% if performers %}
    <div class="search-sub-container">
    <div class="list-title" align = "center"><a href="/performers">Performers</a></div>

      {% for performer in performers %}
        <div class="list-group">
          <a href="/performers/{{ performer.performer_id }}" class="list-group-item list-group-item-action"><img src="{{ performer.performer_img_url }}"  width="50" height="50" alt="{{ performer.performer_name }}">&nbsp;&nbsp;{{ performer.performer_name }}</a>
      {% endfor %}
    </div>
    {% endif %}
      </div>
      <br>

    <!-- Show matching songs' title and link to its page. -->
    {% if songs %}
        <div class="search-sub-container">
      <div class="list-title" align = "center"><a href="/songs">Songs</a></div>
      <ul id="song-list-group-flush2" class="list-group list-group-flush">
      {% for song in songs %}
          <li id="song-list-item" class="list-group-item">
            <a href="/songs/{{ song.song_id }}"><i>{{ song.song_title }}</i></a> 
            {% if song.performers %}
              - <a href="/performers/{{ song.performers[0].performer_id }}">{{ song.performers[0].performer_name }}</a>
            {% endif %}
          </li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
    <br>

    <!-- Show matching albums' title and link to its page. -->
    {% if albums %}
        <div class="search-sub-container">
        <div class="list-title" align = "center">Albums</div>
      <ul id="list-group">
      {% for album in albums %}
        <li id="song-list-item" class="list-group-item">
          <img src="{{ album.cover_art_url }}" width="55" height="50" alt="{{ album.album_title }}">
          <a href="/albums/{{ album.album_id }}"><i>{{ album.album_title }}</i></a> 
          {% if album.performers %}
            - <a href="/performers/{{ album.performers[0].performer_id}}">{{ album.performers[0].performer_name }}</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>

  {% else %}
    <div class="no-results"><h2>Sorry!  <a href="/">Try again?</a></h2></div>
  {% endif%}
</div>
{% endblock %}